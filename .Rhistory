labs(x = "Country", y = "Number of Attacks")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
tmp <- dbGetQuery(conn, "SELECT TGT_COUNTRY FROM Bombings WHERE TGT_COUNTRY is not NULL AND TGT_COUNTRY != '' AND TGT_COUNTRY NOT LIKE '%UNKNOWN%'")
tmp <- tmp %>% group_by(TGT_COUNTRY) %>% summarize(count = n())
tmp<-tmp %>% arrange(desc(count)) %>% head(20)
g <- ggplot(tmp, aes(x = TGT_COUNTRY, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Country", y = "Number of Attacks")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
tmp <- tmp %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
use<-tmp %>%arrange(desc(count)) %>% head(60)
use<-ggplot(use,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(use)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planes<-tmp %>% filter (AIRCRAFT_NAME !="A20" & (AIRCRAFT_NAME!="AUDAX") & (AIRCRAFT_NAME!="B17")&(AIRCRAFT_NAME!="B24")&(AIRCRAFT_NAME!="A36")&(AIRCRAFT_NAME!="B25")
&(AIRCRAFT_NAME!="B26"))
planes <- planes %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planes<- planes %>% arrange(desc(count)) %>% head(60)
planes<- ggplot(planes,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planes)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesU)
print(planesB)
## Czynności przygotowawcze - załadowanie potrzebnych pakietów
library(RSQLite)
library(tidyverse)
library(ggpubr)
library(scales)
df <- read.csv("THOR_WWII_DATA_CLEAN2.csv")
conn <- dbConnect(RSQLite::SQLite(), "gtd.db")
#dbWriteTable(conn, "Bombings", df)
## Czynności przygotowawcze - załadowanie potrzebnych pakietów
library(RSQLite)
library(tidyverse)
library(ggpubr)
library(scales)
df <- read.csv("THOR_WWII_DATA_CLEAN2.csv")
conn <- dbConnect(RSQLite::SQLite(), "gtd.db")
#dbWriteTable(conn, "Bombings", df)
tmp <- dbGetQuery(conn, "SELECT TGT_COUNTRY, strftime('1-%m-%Y', MSNDATE) as date  FROM Bombings WHERE TGT_COUNTRY is not NULL AND TGT_COUNTRY != '' AND TGT_COUNTRY NOT LIKE '%UNKNOWN%' AND date IS NOT NULL")
tmp$date <- as.Date(tmp$date,format="%d-%m-%Y")
tmp <- tmp %>% group_by(TGT_COUNTRY, date) %>% summarize(count = n())
g <- ggplot(tmp, aes(x = date, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Number of Attacks") +
scale_x_date(labels = date_format("%m-%Y"))
print(g)
countries <- tmp %>% filter(TGT_COUNTRY == "DENMARK" || TGT_COUNTRY == "AUSTRIA" || TGT_COUNTRY == "BELGIUM" || TGT_COUNTRY == "FRANCE" || TGT_COUNTRY == 'GERMANY' || TGT_COUNTRY == 'ITALY' || TGT_COUNTRY == 'CHINA' || TGT_COUNTRY == 'POLAND' || TGT_COUNTRY == 'JAPAN')
g <- ggplot(countries, aes(x = date, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(TGT_COUNTRY ~ ., nrow = 3, ncol = 3, scales ="free_y")
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
tmp <- tmp %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
use<-tmp %>%arrange(desc(count)) %>% head(60)
use<-ggplot(use,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(use)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planes<-tmp %>% filter (AIRCRAFT_NAME !="A20" & (AIRCRAFT_NAME!="AUDAX") & (AIRCRAFT_NAME!="B17")&(AIRCRAFT_NAME!="B24")&(AIRCRAFT_NAME!="A36")&(AIRCRAFT_NAME!="B25")
&(AIRCRAFT_NAME!="B26"))
planes <- planes %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planes<- planes %>% arrange(desc(count)) %>% head(60)
planes<- ggplot(planes,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planes)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesU)
print(planesB)
tmp <- dbGetQuery(conn, "SELECT TGT_COUNTRY  FROM Bombings WHERE TGT_COUNTRY is not NULL AND TGT_COUNTRY != '' AND TGT_COUNTRY NOT LIKE '%UNKNOWN%'")
tmp <- tmp %>% group_by(TGT_COUNTRY) %>% summarize(count = n())
tmp<-tmp %>% arrange(desc(count)) %>% head(20)
g <- ggplot(tmp, aes(x = TGT_COUNTRY, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Country", y = "Number of Attacks")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, avg(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, avg(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
nazwa_waga_copy1 <- nazwa_waga  %>% filter(Name != "BEAUFORT")
nazwa_waga_copy2 <- nazwa_waga_copy1  %>% filter(Name != "LANCASTER")
nazwa_waga_copy3 <- nazwa_waga_copy2  %>% filter(Name != "WELLESLEY")
g <- ggplot(nazwa_waga_copy3,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'USA'
GROUP BY Country")
kraj_waga <- kraj_waga %>% arrange(desc(Weight)) %>% head(40)
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'GREAT BRITAIN'
GROUP BY Country")
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'AUSTRALIA'
GROUP BY Country")
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
summary(linearModel)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesU)
print(planesB)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggplot(countries, aes(x = date, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(TGT_COUNTRY ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggplot(planesB, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(TGT_COUNTRY ~ ., nrow = 1, ncol = 2, scales ="free_y")
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggarrange(planesB, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(TGT_COUNTRY ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggarrange(planesB, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggarrange(planesB, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
View(planesB)
View(planesB)
View(planesB)
View(tmp)
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != '' AND COUNTRY_FLYING_MISSION != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggarrange(planesB, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Date", y = "Nuumber of Attacks") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
View(tmp)
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != '' AND COUNTRY_FLYING_MISSION != ''")
tmp<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
tmp <- tmp %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
View(tmp)
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != '' AND COUNTRY_FLYING_MISSION != ''")
tmp<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
tmp <- tmp %>% group_by(AIRCRAFT_NAME, COUNTRY_FLYING_MISSION) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != '' AND COUNTRY_FLYING_MISSION != ''")
tmp<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
tmp <- tmp %>% group_by(AIRCRAFT_NAME, COUNTRY_FLYING_MISSION) %>% summarize(count = n())
#tmp<- ggplot(tmp, aes(AIRCRAFT_NAME, count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
g <- ggarrange(tmp, aes(x = AIRCRAT_NAME, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Plane", y = "Nuumber of Uses") +
scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, scales ="free_y")
print(g)
View(tmp)
tmp <- dbGetQuery(conn, "select AIRCRAFT_NAME, COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != '' AND COUNTRY_FLYING_MISSION != ''")
tmp<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN' || COUNTRY_FLYING_MISSION=='USA');
tmp <- tmp %>% group_by(AIRCRAFT_NAME, COUNTRY_FLYING_MISSION) %>% summarize(count = n())
tmp<- ggplot(tmp, aes(AIRCRAFT_NAME, count)) + geom_point() +
labs(x = "Plane", y = "Number of uses") +
theme(axis.text.x=element_text(angle=90, hjust=1)) +
facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, scales ="free_y")
#planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
#planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
#  labs(x = "Plane", y = "Number of uses")+
#  theme(axis.text.x=element_text(angle=90, hjust=1))
#print(ggarrange(planesU,planesB, ncol = 2, nrow = 1))
#g <- ggarrange(tmp, aes(x = AIRCRAT_NAME, y = count)) +
#  geom_bar(stat = "identity") +
#  theme_bw() +
#  labs(x = "Plane", y = "Nuumber of Uses") +
#  scale_x_date(labels = date_format("%m-%Y")) + facet_wrap(COUNTRY_FLYING_MISSION ~ ., nrow = 1, ncol = 2, #scales ="free_y")
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesU)
print(planesB)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
tmp <- tmp %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
use<-tmp %>%arrange(desc(count)) %>% head(60)
use<-ggplot(use,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(use)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planes<-tmp %>% filter (AIRCRAFT_NAME !="A20" & (AIRCRAFT_NAME!="AUDAX") & (AIRCRAFT_NAME!="B17")&(AIRCRAFT_NAME!="B24")&(AIRCRAFT_NAME!="A36")&(AIRCRAFT_NAME!="B25")
&(AIRCRAFT_NAME!="B26"))
planes <- planes %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planes<- planes %>% arrange(desc(count)) %>% head(60)
planes<- ggplot(planes,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planes)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesB<-tmp %>% filter (COUNTRY_FLYING_MISSION=='GREAT BRITAIN');
planesB <- planesB %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesB<- ggplot(planesB,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesB)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME,COUNTRY_FLYING_MISSION from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
planesU<-tmp %>% filter ((COUNTRY_FLYING_MISSION=='USA'))
planesU <- planesU %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
planesU<- ggplot(planesU,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(planesU)
tmp <- dbGetQuery(conn, "SELECT TGT_COUNTRY  FROM Bombings WHERE TGT_COUNTRY is not NULL AND TGT_COUNTRY != '' AND TGT_COUNTRY NOT LIKE '%UNKNOWN%'")
tmp <- tmp %>% group_by(TGT_COUNTRY) %>% summarize(count = n())
tmp<-tmp %>% arrange(desc(count)) %>% head(20)
g <- ggplot(tmp, aes(x = TGT_COUNTRY, y = count)) +
geom_bar(stat = "identity") +
theme_bw() +
labs(x = "Country", y = "Number of Attacks")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'USA'
GROUP BY Country")
kraj_waga <- kraj_waga %>% arrange(desc(Weight)) %>% head(40)
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'GREAT BRITAIN'
GROUP BY Country")
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
tmp <- dbGetQuery(conn, "select  AIRCRAFT_NAME from Bombings where AIRCRAFT_NAME is not NULL AND AIRCRAFT_NAME != ''")
tmp <- tmp %>% group_by(AIRCRAFT_NAME) %>% summarize(count = n())
use<-tmp %>%arrange(desc(count)) %>% head(60)
use<-ggplot(use,aes(AIRCRAFT_NAME,count)) + geom_point() +
labs(x = "Plane", y = "Number of Uses")+
theme(axis.text.x=element_text(angle=90, hjust=1))
print(use)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, avg(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, avg(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, avg(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
nazwa_waga_copy1 <- nazwa_waga  %>% filter(Name != "BEAUFORT")
nazwa_waga_copy2 <- nazwa_waga_copy1  %>% filter(Name != "LANCASTER")
nazwa_waga_copy3 <- nazwa_waga_copy2  %>% filter(Name != "WELLESLEY")
g <- ggplot(nazwa_waga_copy3,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight
FROM Bombings
where Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'USA'
GROUP BY Country")
kraj_waga <- kraj_waga %>% arrange(desc(Weight)) %>% head(40)
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight FROM Bombings WHERE Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'USA' AND Country IS NOT LIKE '%UNKNOWN%'
GROUP BY Country")
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) as Weight FROM Bombings WHERE Total_tons is not null and Country != '' and COUNTRY_FLYING_MISSION = 'USA' AND Country NOT LIKE '%UNKNOWN%' GROUP BY Country")
kraj_waga <- kraj_waga %>% arrange(desc(Weight)) %>% head(40)
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
kraj_waga <-dbGetQuery(conn, "SELECT TGT_COUNTRY as Country, sum(TOTAL_TONS) AS Weight FROM Bombings WHERE Total_tons IS NOT NULL AND Country != '' AND Country NOT LIKE '%UNKNOWN%' AND COUNTRY_FLYING_MISSION = 'GREAT BRITAIN' GROUP BY Country")
g <- ggplot(kraj_waga,aes(Country, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
View(df)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) /sum(AC_DROPPING) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
## Czynności przygotowawcze - załadowanie potrzebnych pakietów
library(RSQLite)
library(tidyverse)
library(ggpubr)
library(scales)
df <- read.csv("THOR_WWII_DATA_CLEAN2.csv")
conn <- dbConnect(RSQLite::SQLite(), "gtd.db")
#dbWriteTable(conn, "Bombings", df)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) /sum(AC_DROPPING) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
View(df)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Name != ''
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Name != '' AND AC_ATTACKING is not null
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Name != '' AND AC_ATTACKING is not null AND AC_ATTACKING != 0
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
View(df)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Name != '' AND AC_ATTACKING is not null AND AC_ATTACKING != 0 AND Name not like 'WELLESLEY'
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Name != '' AND AC_ATTACKING is not null AND AC_ATTACKING != 0 AND Name not like 'WELLESLEY'
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
nazwa_waga <-dbGetQuery(conn, "SELECT AIRCRAFT_NAME as Name, sum(TOTAL_TONS) / sum(AC_ATTACKING) as Weight
FROM Bombings
where Total_tons is not null and Total_tons != 0 and Name != '' AND AC_ATTACKING is not null AND AC_ATTACKING != 0 AND Name not like 'WELLESLEY'
GROUP BY Name")
g <- ggplot(nazwa_waga,aes(Name, Weight))+
geom_bar(stat = "identity")+theme(axis.text.x=element_text(angle=90, hjust=1))
print(g)
